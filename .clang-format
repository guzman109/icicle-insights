BasedOnStyle: LLVM
Language: Cpp
Standard: Latest

ColumnLimit: 80
IndentWidth: 2
TabWidth: 2
UseTab: Never

# Pointer and reference alignment
PointerAlignment: Right
ReferenceAlignment: Right

# Braces and spacing
BreakBeforeBraces: Attach
SpaceBeforeParens: ControlStatements
SpaceAfterTemplateKeyword: true
SpaceBeforeAssignmentOperators: true
SpaceInEmptyParentheses: false
SpacesInAngles: false
SpacesInCStyleCastParentheses: false
SpacesInParentheses: false
SpacesInSquareBrackets: false

# Short constructs
AllowShortIfStatementsOnASingleLine: false
AllowShortLoopsOnASingleLine: false
AllowShortFunctionsOnASingleLine: Inline
AllowShortLambdasOnASingleLine: All

# Alignment
AlignAfterOpenBracket: BlockIndent
AlignConsecutiveAssignments: false
AlignConsecutiveDeclarations: false
AlignEscapedNewlines: Right
AlignOperands: true
AlignTrailingComments: true

# Breaking
AllowAllParametersOfDeclarationOnNextLine: true
BinPackArguments: false
BinPackParameters: false
BreakBeforeBinaryOperators: None
BreakBeforeTernaryOperators: true
BreakConstructorInitializers: BeforeColon
BreakInheritanceList: BeforeColon

# Indentation
NamespaceIndentation: None
IndentCaseLabels: false
IndentPPDirectives: None
IndentWrappedFunctionNames: false

# Includes
SortIncludes: CaseSensitive
IncludeBlocks: Regroup
IncludeCategories:
  # Main module header (same name as .cpp)
  - Regex: '^".*\.hpp"$'
    Priority: 1
  # Local/Private headers
  - Regex: '^".*"$'
    Priority: 2
  # System headers
  - Regex: '^<.*>$'
    Priority: 3

# Comments and empty lines
FixNamespaceComments: true
ReflowComments: true
KeepEmptyLinesAtTheStartOfBlocks: true
MaxEmptyLinesToKeep: 1

# Other
DerivePointerAlignment: false
SpaceAfterCStyleCast: false
